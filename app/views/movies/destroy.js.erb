$('form.button_to').closest('.movie-display.<%=@movie.id%>').remove();

var genreArray = <%=raw @genre_doubles %>
var directorArray = <%=raw @director_doubles %>
var actorArray  = <%=raw @actor_doubles %>
// var deletedFilm = "<%=@movie.title%>"
// console.log(deletedFilm)

var duplicateArray = new Map();
duplicateArray.set('select#actors', actorArray)
duplicateArray.set('select#director', directorArray)
duplicateArray.set('select#genre', genreArray)

// var deletedMovieArray = new Map();
// deletedMovieArray.set('select#actors', "<%=@movie.actors%>".split(','))
// deletedMovieArray.set('select#director', "<%=@movie.director%>".split(','))
// deletedMovieArray.set('select#genre', "<%=@movie.genre%>".split(','))

deletedActorArray = "<%=@movie.actors%>".split(',');
deletedDirectorArray = "<%=@movie.director%>".split(',');
deletedGenreArray = "<%=@movie.genre%>".split(',');

var comparedElements = new Map();
comparedElements.set(actorArray, deletedActorArray)
comparedElements.set(directorArray, deletedDirectorArray)
comparedElements.set(genreArray, deletedGenreArray)

var elementIds = ['select#actor', 'select#director', 'select#genre']
var elements = new Map();
function doStuff() {
  n = 0

  for (var [key, value] of comparedElements) {
    function getElementsToDelete(duplicateArray, deletedArray) {
      console.log("hellooo")
      var toDeleteArray = new Array();
        for (i=0; i < deletedArray.length; i++) {
          if (duplicateArray.includes(deletedArray[i])) {continue}
          else { toDeleteArray.push(deletedArray[i]) }

        }
      var idName = elementIds[n]
      console.log(idName)
      elements.set(idName, toDeleteArray)
      n++
      console.log(n)

    }
    getElementsToDelete(key, value)
  }
  elements
  console.log(elements.get('select#actor'))
}
doStuff()



function doMoreStuff() {
  for (var [key, value] of elements) {
    function deleteDetail(elementId, movieDetail) {
      var detailArray = new Array();
      $(elementId + " > option").each(function() {
        detailArray.push(this.text)
      });
      for (i=0; i < movieDetail.length; i++) {
        if (detailArray.includes(movieDetail[i])) {
          $(elementId + ' option[value="' + movieDetail[i].trim() + '"]').remove()
        }
      }
    }
    deleteDetail(key, value)
  }
}

doMoreStuff()
console.log(elements.get('select#director'))